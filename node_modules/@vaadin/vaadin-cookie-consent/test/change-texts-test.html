<!doctype html>

<head>
  <meta charset="UTF-8">
  <title>vaadin-cookie-consent tests</title>
  <script src="../../../wct-browser-legacy/browser.js"></script>
  <script src="../../../@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
  <script type="module" src="../../../@polymer/test-fixture/test-fixture.js"></script>
  <script type="module" src="../vaadin-cookie-consent.js"></script>
</head>

<body>
    <test-fixture id="changed">
        <template>
          <vaadin-cookie-consent cookie-name="changetextscookie3" message="custom-message" dismiss="custom-dismiss" learn-more="custom-learn-more" learn-more-link="http://custom-learn-more-link/"></vaadin-cookie-consent>
        </template>
      </test-fixture>
    <test-fixture id="default">
    <template>
      <vaadin-cookie-consent cookie-name="changetextscookie"></vaadin-cookie-consent>
    </template>
  </test-fixture>
  
  <script type="module">
import '@polymer/test-fixture/test-fixture.js';
import '../vaadin-cookie-consent.js';
describe('change texts', function() {

  beforeEach(function() {
  });

  it('message can be changed', function() {
    const element = fixture('changed');
    expect(element).to.be.defined;
    const ccWindow = document.querySelector('.cc-window');
    const ccMessage = ccWindow.querySelector('.cc-message');
    const ccDismiss = ccWindow.querySelector('.cc-dismiss');
    const ccLink = ccWindow.querySelector('.cc-link');

    expect(ccMessage.innerText).to.be.equal('custom-message custom-learn-more');
    expect(ccDismiss.innerText).to.be.equal('custom-dismiss');
    expect(ccLink.innerText).to.be.equal('custom-learn-more');
    expect(ccLink.href).to.be.equal('http://custom-learn-more-link/');
  });
  it('default text shown', function() {
    const element = fixture('default');
    expect(element).to.be.defined;
    const ccWindow = document.querySelector('.cc-window');
    const ccMessage = ccWindow.querySelector('.cc-message');
    const ccDismiss = ccWindow.querySelector('.cc-dismiss');
    const ccLink = ccWindow.querySelector('.cc-link');

    expect(ccMessage.innerText).to.be.equal('This website uses cookies to ensure you get the best experience. Learn more');
    expect(ccDismiss.innerText).to.be.equal('Got it!');
    expect(ccLink.innerText).to.be.equal('Learn more');
    expect(ccLink.href).to.be.equal('https://cookiesandyou.com/');
  });

});
</script>
</body>
